---
tags: computer-algebra, euclidean-geometry
---
<p>几何定理的机器证明, 自1945年出现了第一台电子计算机之后更是激起人们的关注.1948年, 波兰人Tarski解决实闭域初等几何定理可以机械化的证明 (见A.塔尔斯基, J.C.C.麦克铿, 初等代数和几何的判定法.北京:科学出版社, 1959, 陆钟万译) 用的是数理逻辑法, 虽然也给出实现这些证明的建议, 但离实现非常遥远, 并非切实可行.</p>
<p>1959年, 王浩设计一种方法, 用计算机证明了罗素的《数学原理》中几百条定理, 仅用9分钟, 引起轰动, 一时机器证明前景似乎非常乐观.当时人们猜测再过十年计算机将证明发现新定理.然而实践上人们碰到困难, 1976年美国做了大量实验, 塔尔斯基的初等几何, 用计算机证明一些近于同义反复的“儿戏”式的“定理”, 例如“若<i>P</i><sub>1</sub>, <i>P</i><sub>2</sub>, <i>P</i><sub>3</sub>, <i>P</i><sub>4</sub>, <i>P</i><sub>5</sub>五个点之中, <i>P</i><sub>1</sub>, <i>P</i><sub>2</sub>, <i>P</i><sub>3</sub>和<i>P</i><sub>1</sub>, <i>P</i><sub>2</sub>, <i>P</i><sub>4</sub>和<i>P</i><sub>1</sub>, <i>P</i><sub>2</sub>, <i>P</i><sub>5</sub>各在一条直线上, 则<i>P</i><sub>3</sub>, <i>P</i><sub>4</sub>, <i>P</i><sub>5</sub>也在一条直线上”. (见Kister, K.IEEE Trans on Computers C-25 (1976) , 328-334) .于是人们又走向悲观的一面, 有些专家估计:靠机器再过100年, 也未必能证明出多少有意义的新定理.</p>
<p>如前所述初等几何和初等代数的判定问题早在50年代就为塔尔斯基 (A.Tarski) 所解决, 但其复杂度远远超越了现代计算机的能力范围.总之, 几何定理由计算机自动地证明, 于20世纪五十年代由 <a href="https://en.wikipedia.org/wiki/Herbert_Gelernter">Herbert Gelernter</a> 开始研究. 在自动推理领域先驱性的工作, 是由数学机械化思想的倡导者吴文俊院士于70年代作出的, 这就是著名的几何定理机器证明的吴方法, 是第一个可以证明非平凡定理的系统的机器证明方法.</p>
吴方法主要分两步.第一步是引进坐标.然后把需证定理中的已知条件与结论部分都用坐标间的代数关系来表示.我们所考虑的初等几何定理局限于这些代数关系都是多项式等式关系的范围.
<p>例如, 有若干个点<i>A</i><sub><i>i</i></sub> (<i>x</i><sub><i>i</i></sub>, <i>y</i><sub><i>i</i></sub>) , 用
\[\left(x_1-x_2\right)\left(y_3-y_4\right)-\left(x_3-x_4\right)\left(y_1-y_2\right)=0\]
表示<i>A</i><sub>1</sub><i>A</i><sub>2</sub>平行 (或重合) 于<i>A</i><sub>3</sub><i>A</i><sub>4</sub>;
\[\left(x_1-x_2\right)\left(y_1-y_2\right)+\left(x_3-x_4\right)\left(y_3-y_4\right)=0\]
表示<i>A</i><sub>1</sub><i>A</i><sub>2</sub>垂直于<i>A</i><sub>3</sub><i>A</i><sub>4</sub>;
\[\left(x_1-x_2\right)^2+\left(y_1-y_2\right)^2-r^2=0\]
表示<i>A</i><sub>1</sub><i>A</i><sub>2</sub>长度为$r$
</p>
第二步是消元.通过代表假设的多项式关系把代表结论多项式中的坐标逐个消去, 如果消元的结果为零, 即表明定理正确, 否则再作进一步检查.这一步完全是代数的, 即用多项式的消元法来验证.这一步完全可以通过计算机来完成.
<p align="center" >
  <svg width="400" height="200">
    <path d="M0,173 h200 l100,-173 h-200 z" fill="none" stroke="black" stroke-width="2" />
    <g transform="translate(0,173)">$A(0,0)$</g>
    <g transform="translate(200,173)">$B(u_1,0)$</g>
    <g transform="translate(300,0)">$C(u_2,x_1)$</g>
    <g transform="translate(100,0)">$D(x_2,x_1)$</g>
  </svg>
</p>
<b>例1</b> 求证:菱形对角线互相垂直
<p>如图1, 将<i>A</i>放在原点, 则<i>B</i>的坐标为 (<i>u</i><sub>1</sub>, 0) , 表明<i>B</i>是任意给定的 (<i>u</i><sub>1</sub>为参数) , 由菱形定义, <i>AB</i>=<i>BC</i>, 故<i>C</i>仅有一个任意参数<i>u</i><sub>2</sub>, 而<i>D</i>点, 两个坐标都是未知的, 即<i>D</i> (<i>x</i><sub>2</sub>, <i>x</i><sub>1</sub>) , 由<i>AD</i>//<i>BC</i>, 类似 (1) 的方法得$x_1(u_2-u_1)-x_2x_1=0$, 又由 (3) 的方法<i>AB</i>=<i>AD</i>得$u_1^2-(x_2^2+x_1^2)=0$,<br>将这两个方程整理并三角型化 (即第一方程仅有一个未知量<i>x</i><sub>2</sub>, 第二方程有两个未知量<i>x</i><sub>1</sub>, <i>x</i><sub>2</sub>)<br>用Mathematica软件的语句, 将已知条件方程左边的多项式记为:</p>
$$f_1=-x_2+\left(u_2-u_1\right) ; f_2=-\left(x_1^2+x_2^2\right)+u_1^2$$
求证:AC⊥BD, 由类似 (3) 的方法, 它的方程左边多项式为:
$$g_1=x_1^2+u_2\left(x_2-u_1\right)$$
现在做逐次除法, 即<i>g</i><sub>1</sub>除以<i>f</i><sub>2</sub> (以<i>x</i><sub>1</sub>为未知量) 得余式.用<code>r2=PolynomialRemainder[g1,f2,x1]</code>得
$$u_1^2-u_1 u_2+u_2 x_2-x_2^2$$
即 $g_1=c_2f_2+r_2$（$c_2$ 为非0的商）再用 $r_2$ 除以 $f_1$（以 $x_2$ 为未知量）它的余式用<code>r1＝PolynamialRemainder[r2,f1,x2]</code>得$r_1=0$.
又$g_1=-f_1+(x_2-u_1)f_2+r_1$.
<p>由于<i>r</i><sub>1</sub>≡0, 从<i>f</i><sub>1</sub>=0, <i>f</i><sub>2</sub>=0推出<i>g</i><sub>1</sub>=0, 定理被证明.</p>
一般的初等几何定理的假设条件表示为多元多项式方程组 ($k=r+s$维仿射空间中代数族)
\[\begin{cases}p_1(u_1\cdots,u_r,x_1,\cdots,x_s)=0\\p_2(u_1,\cdots,u_r,x_1,\cdots,x_s)=0\\\cdots\cdots\\p_s(u_1,\cdots,u_r,x_1,\cdots,x_s)=0\end{cases}\qquad(4)\]
<p>其中<i>u</i><sub>1</sub>, …, <i>u</i><sub><i>r</i></sub>是独立的参变量, <i>x</i><sub>1</sub>, …, <i>x</i><sub><i>s</i></sub>不是独立的变量.</p>
<p>定理的结论表示为$g(u_1,\cdots,u_r,x_1,\cdots,x_s)=0.$</p>
将 (4) 化为三角形方程组
\[\begin{cases}f_1(u_1,\cdots,u_r,x_1)=0\\f_2(u_1,\cdots,u_r,x_1,x_2)=0\\\cdots\cdots\\f_s(u_1,\cdots,u_r,x_1,\cdots,x_s)=0\end{cases}\qquad(5)\]
<p>剩下的问题是用计算机去求<i>g</i>与<i>f</i><sub><i>s</i></sub>两个多项式的除法所得的余式 (也是一个多项式) <i>R</i><sub><i>s</i></sub>, 再除以<i>f</i><sub><i>s</i>-1</sub>, 再得余式<i>R</i><sub><i>s</i>-1</sub>, 例如, 此过程可以用 Mathematica 软件中的命令</p>
<p><i>R</i><sub><i>i</i></sub>=PolynomialRemainder[<i>R</i><sub><i>i</i>+1</sub>, <i>f</i><sub><i>i</i></sub>, <i>x</i><sub><i>i</i></sub>]来实现, <i>R</i><sub><i>s</i>+1</sub>=<i>g</i>, <i>i</i>=<i>s</i>, <i>s</i>-1, …, 1.</p>
如此继续下去, 直到最后的余式<i>R</i><sub>1</sub>, 如果<i>R</i><sub>1</sub>=0, 则定理得证.